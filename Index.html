<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Secure Media Cloud</title>

    <script type='text/javascript' src='//pl25732282.effectivegatecpm.com/6d/5a/e2/6d5ae25a8b0c2974cabf7d073c7cc9f8.js'></script>

    <style>
        body { background: #000; color: #fff; font-family: sans-serif; margin: 0; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        .main-card { width: 95%; max-width: 450px; background: #121212; border-radius: 20px; padding: 15px; border: 1px solid #333; box-shadow: 0 0 30px rgba(0,0,0,1); }
        .viewer { position: relative; width: 100%; height: 350px; background: #000; border-radius: 15px; overflow: hidden; }
        
        /* Default Blur State */
        #mediaImg, #mediaVid { width: 100%; height: 100%; object-fit: contain; filter: blur(70px); transition: 2s ease; }
        #mediaVid { display: none; }

        .overlay { position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10; }
        .play-btn { background: #0084ff; color: #fff; border: none; padding: 18px 45px; border-radius: 50px; font-weight: bold; cursor: pointer; font-size: 18px; letter-spacing: 1px; }
        
        /* Loading UI */
        #loader { display: none; text-align: center; }
        .spin { border: 4px solid #222; border-top: 4px solid #0084ff; border-radius: 50%; width: 45px; height: 45px; animation: spin 1s linear infinite; margin: 0 auto 15px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div class="main-card">
    <h4 style="margin-top:0; color:#0084ff;">üìÅ PRIVATE_FILE_LOCKED.mp4</h4>
    <div class="viewer">
        <img id="mediaImg" src="">
        <video id="mediaVid" playsinline loop muted></video>

        <div class="overlay" id="mask">
            <div id="startBtnBox">
                <button class="play-btn" onclick="startUnlock()">UNLOCK MEDIA</button>
            </div>
            
            <div id="loader">
                <div class="spin"></div>
                <p style="font-size:18px;">Decoding... <span id="timer">30</span>s</p>
                <p style="color:#666; font-size:12px;">Connecting to secure server</p>
            </div>
        </div>
    </div>
</div>

<script>
    // URL se link nikalne ka dimag
    const urlParams = new URLSearchParams(window.location.search);
    const m = urlParams.get('m');
    const img = document.getElementById('mediaImg');
    const vid = document.getElementById('mediaVid');

    if (m) {
        // Video file check (.mp4, .mov, .m4v etc)
        if (m.match(/\.(mp4|mov|m4v|webm)/i) || m.includes('video')) {
            vid.src = m;
            vid.style.display = 'block';
            img.style.display = 'none';
        } else {
            img.src = m;
        }
    }

    function startUnlock() {
        // Ads trigger on click
        document.getElementById('startBtnBox').style.display = 'none';
        document.getElementById('loader').style.display = 'block';

        let timeLeft = 30;
        let countdown = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(countdown);
                finish();
            }
        }, 1000);
    }

    function finish() {
        document.getElementById('mask').style.display = 'none';
        img.style.filter = "blur(0px)";
        vid.style.filter = "blur(0px)";
        vid.muted = false;
        if (vid.src) vid.play();
    }
</script>

</body>
</html>
